/*! 
* DevExpress Mobile View and Layout Framework (part of PhoneJS)
* Version: 13.2.7
* Build date: Feb 10, 2014
*
* Copyright (c) 2012 - 2014 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: http://phonejs.devexpress.com/EULA
*/
"use strict";if(!DevExpress.MOD_FRAMEWORK){if(!window.DevExpress)throw Error("Required module is not referenced: core");(function(n,t){var r=function(n,t,i){for(var u=[],r=0,f=n.length;r<f;r++)i(n[r],t)||u.push(n[r]);return u.push.apply(u,t),u},u=function(){return function(t,i){return r(t,i,function(t,i){return n.grep(i,function(n){return t.option("id")===n.option("id")&&n.option("id")||t.option("behavior")===n.option("behavior")&&t.option("behavior")}).length})}};t.framework={utils:{mergeCommands:u()}}})(jQuery,DevExpress),function(n,t){var i=t.Class;t.framework.Route=i.inherit({_trimSeparators:function(n){return n.replace(/^[\/.]+|\/+$/g,"")},_escapeRe:function(n){return n.replace(/\W/g,"\\$1")},_checkConstraint:function(n,t){n=String(n),typeof t=="string"&&(t=new RegExp(t));var i=t.exec(n);return!i||i[0]!==n?!1:!0},_ensureReady:function(){var t=this;if(this._patternRe)return!1;this._pattern=this._trimSeparators(this._pattern),this._patternRe="",this._params=[],this._segments=[],this._separators=[],this._pattern.replace(/[^\/]+/g,function(n,i){t._segments.push(n),i&&t._separators.push(t._pattern.substr(i-1,1))}),n.each(this._segments,function(n){var u=!0,i=this,r=n?t._separators[n-1]:"";i.charAt(0)===":"?(u=!1,i=i.substr(1),t._params.push(i),t._patternRe+="(?:"+r+"([^/]+))",i in t._defaults&&(t._patternRe+="?")):t._patternRe+=r+t._escapeRe(i)}),this._patternRe=new RegExp("^"+this._patternRe+"$")},ctor:function(n,t,i){this._pattern=n||"",this._defaults=t||{},this._constraints=i||{}},parse:function(t){var u=this,i,r;return(this._ensureReady(),i=this._patternRe.exec(t),!i)?!1:(r=n.extend({},this._defaults),n.each(this._params,function(n){var t=n+1;i.length>=t&&i[t]&&(r[this]=u.parseSegment(i[t]))}),n.each(this._constraints,function(n){if(!u._checkConstraint(r[n],u._constraints[n]))return r=!1,!1}),r)},format:function(t){var r=this,u="",c,o;this._ensureReady();var f=n.extend({},this._defaults),s=0,i=[],h=[],e={};return(n.each(t,function(n,i){t[n]=r.formatSegment(i),n in f||(e[n]=!0)}),n.each(this._segments,function(n,u){if(i[n]=n?r._separators[n-1]:"",u.charAt(0)===":"){var o=u.substr(1);if(!(o in t)&&!(o in r._defaults)||o in r._constraints&&!r._checkConstraint(t[o],r._constraints[o]))return i=null,!1;o in t?(t[o]!==undefined&&(f[o]=t[o],i[n]+=t[o],s=n),delete e[o]):o in f&&(i[n]+=f[o],h.push(n))}else i[n]+=u,s=n}),n.each(f,function(u,f){if(!!f&&n.inArray(":"+u,r._segments)===-1&&t[u]!==f)return i=null,!1}),c=0,n.isEmptyObject(e)||(u="?",n.each(e,function(n){u+=n+"="+t[n]+"&",c++}),u=u.substr(0,u.length-1)),n.each(t,function(){if(!this in f)return i=null,!1}),i===null)?!1:(h.length&&n.map(h,function(n){n>=s&&(i[n]="")}),o=i.join(""),o=o.replace(/\/+$/,""),{uri:o+u,unusedCount:c})},formatSegment:function(t){return n.isArray(t)||n.isPlainObject(t)?"json:"+encodeURIComponent(JSON.stringify(t)):encodeURIComponent(t)},parseSegment:function(t){if(t.substr(0,5)==="json:")try{return n.parseJSON(decodeURIComponent(t.substr(5)))}catch(i){}return decodeURIComponent(t)}}),t.framework.MvcRouter=t.Class.inherit({ctor:function(){this._registry=[]},_trimSeparators:function(n){return n.replace(/^[\/.]+|\/+$/g,"")},_createRoute:function(n,i,r){return new t.framework.Route(n,i,r)},register:function(n,t,i){this._registry.push(this._createRoute(n,t,i))},_parseQuery:function(t){var i={},r=t.split("&");return n.each(r,function(n,t){var r=t.split("=");i[r[0]]=r[1]}),i},parse:function(t){var f=this,i;t=this._trimSeparators(t);var r=t.split("?",2),e=r[0],u=r[1];return n.each(this._registry,function(){var t=this.parse(e);if(t!==!1)return i=t,u&&(i=n.extend(i,f._parseQuery(u))),!1}),i?i:!1},format:function(t){var i=!1,r=99999;return t=t||{},n.each(this._registry,function(){var f=n.extend(!0,{},t),u=this.format(f);u!==!1&&r>u.unusedCount&&(r=u.unusedCount,i=u.uri)}),i}})}(jQuery,DevExpress),function(n,t){var i=t.ui;t.framework.dxCommand=i.Component.inherit({ctor:function(t,i){n.isPlainObject(t)&&(i=t,t=n("<div />")),this.beforeExecute=n.Callbacks(),this.afterExecute=n.Callbacks(),this.callBase(t,i)},_defaultOptions:function(){return n.extend(this.callBase(),{action:null,id:null,title:"",icon:"",iconSrc:"",visible:!0,disabled:!1})},execute:function(){var i=this._options.disabled;if(n.isFunction(i)&&(i=!!i.apply(this,arguments)),i)throw new Error(t.utils.stringFormat("Cannot execute command: {0}",this._options.id));this.beforeExecute.fire(arguments),this._createActionByOption("action",{allowedForGesture:!0}).apply(this,arguments),this.afterExecute.fire(arguments)},_render:function(){this.callBase(),this._element().addClass("dx-command")},_renderDisabledState:n.noop,_dispose:function(){this.callBase(),this._element().removeData(this.NAME),this.beforeExecute.empty(),this.afterExecute.empty()}}),i.registerComponent("dxCommand",t.framework.dxCommand)}(jQuery,DevExpress),function(n,t){t.framework.CommandMapping=t.Class.inherit({ctor:function(){this._commandMappings={},this._containerDefaults={}},setDefaults:function(n,t){return this._containerDefaults[n]=t,this},mapCommands:function(t,i){var r=this;return n.each(i,function(i,u){typeof u=="string"&&(u={id:u});var e=u.id,f=r._commandMappings[t]||{};f[e]=n.extend({showIcon:!0,showText:!0},r._containerDefaults[t]||{},u),r._commandMappings[t]=f}),this._initExistingCommands(),this},unmapCommands:function(t,i){var r=this;n.each(i,function(n,i){var u=r._commandMappings[t]||{};u&&delete u[i]}),this._initExistingCommands()},getCommandMappingForContainer:function(n,t){return(this._commandMappings[t]||{})[n]},checkCommandsExist:function(t){var r=this,i=n.grep(t,function(i,u){return n.inArray(i,r._existingCommands)<0&&n.inArray(i,t)===u});if(i.length!==0)throw new Error("The '"+i.join("', '")+"' command"+(i.length===1?" is":"s are")+" not registred in the application's command mapping. See http://dxpr.es/1bTjfj1 for more details.");},load:function(t){if(t){var i=this;return n.each(t,function(n,t){i.setDefaults(n,t.defaults),i.mapCommands(n,t.commands)}),this}},_initExistingCommands:function(){var t=this;this._existingCommands=[],n.each(t._commandMappings,function(i,r){n.each(r,function(i,r){n.inArray(r.id,t._existingCommands)<0&&t._existingCommands.push(r.id)})})}}),t.framework.CommandMapping.defaultMapping={"global-navigation":{defaults:{showIcon:!0,showText:!0},commands:[]},"ios-header-toolbar":{defaults:{showIcon:!1,showText:!0,location:"right"},commands:["edit","save",{id:"back",location:"left"},{id:"cancel",location:"left"},{id:"create",showIcon:!0,showText:!1}]},"ios-action-sheet":{defaults:{showIcon:!1,showText:!0},commands:[]},"ios-view-footer":{defaults:{showIcon:!1,showText:!0},commands:[{id:"delete",type:"danger"}]},"android-header-toolbar":{defaults:{showIcon:!0,showText:!1,location:"right"},commands:[{id:"back",showIcon:!1,location:"left"},"create","edit","save",{id:"cancel",showText:!0,location:"menu"},{id:"delete",showText:!0,location:"menu"}]},"android-simple-toolbar":{defaults:{showIcon:!0,showText:!1,location:"right"},commands:[{id:"back",showIcon:!1,location:"left"},{id:"create"},{id:"save",showText:!0,location:"left"},{id:"edit",showText:!0,location:"menu"},{id:"cancel",showText:!0,location:"menu"},{id:"delete",showText:!0,location:"menu"}]},"android-footer-toolbar":{defaults:{location:"right"},commands:[{id:"create",showText:!1,location:"center"},{id:"edit",showText:!1,location:"left"},{id:"delete",location:"menu"},{id:"save",showIcon:!1,location:"left"}]},"tizen-header-toolbar":{defaults:{showIcon:!0,showText:!1,location:"right"},commands:[{id:"back",showIcon:!1,location:"left"},"create","edit","save",{id:"cancel",showText:!0,location:"menu"},{id:"delete",showText:!0,location:"menu"}]},"tizen-footer-toolbar":{defaults:{location:"right"},commands:[{id:"create",showText:!1},{id:"edit",showText:!1,location:"left"},{id:"delete",location:"menu"},{id:"save",showIcon:!1,location:"left"}]},"tizen-simple-toolbar":{defaults:{showIcon:!0,showText:!1,location:"right"},commands:[{id:"back",showIcon:!1,location:"left"},{id:"create"},{id:"save",showText:!0,location:"left"},{id:"edit",showText:!0,location:"menu"},{id:"cancel",showText:!0,location:"menu"},{id:"delete",showText:!0,location:"menu"}]},"generic-header-toolbar":{defaults:{showIcon:!1,showText:!0,location:"right"},commands:["edit","save",{id:"back",location:"left"},{id:"cancel",location:"left"},{id:"create",showIcon:!0,showText:!1}]},"generic-view-footer":{defaults:{showIcon:!1,showText:!0},commands:[{id:"delete",type:"danger"}]},"win8-appbar":{defaults:{location:"right"},commands:["edit","cancel","save","delete",{id:"create",location:"left"}]},"win8-toolbar":{defaults:{showText:!1,location:"left"},commands:[{id:"previousPage"}]},"win8-phone-appbar":{defaults:{location:"center"},commands:["create","edit","cancel","save",{id:"delete",location:"menu"}]},"desktop-toolbar":{defaults:{showIcon:!1,showText:!0,location:"right"},commands:["cancel","create","edit","save",{id:"delete",type:"danger"}]}}}(jQuery,DevExpress),function(n,t){var r=t.Class;t.framework.ViewCache=r.inherit({ctor:function(){this._cache={}},setView:function(n,t){this._cache[n]=t},getView:function(n){return this._cache[n]},removeView:function(n){var t=this._cache[n];return delete this._cache[n],t},clear:function(){this._cache={}},hasView:function(n){return n in this._cache}}),t.framework.NullViewCache=r.inherit({setView:n.noop,getView:n.noop,removeView:n.noop,clear:n.noop,hasView:n.noop})}(jQuery,DevExpress),function(n,t){var r=t.Class;t.framework.MemoryKeyValueStorage=r.inherit({ctor:function(){this.storage={}},getItem:function(n){return this.storage[n]},setItem:function(n,t){this.storage[n]=t},removeItem:function(n){delete this.storage[n]}}),t.framework.StateManager=r.inherit({ctor:function(n){n=n||{},this.storage=n.storage||new t.framework.MemoryKeyValueStorage,this.stateSources=n.stateSources||[]},addStateSource:function(n){this.stateSources.push(n)},removeStateSource:function(t){var i=n.inArray(t,this.stateSources);i>-1&&(this.stateSources.splice(i,1),t.removeState(this.storage))},saveState:function(){var t=this;n.each(this.stateSources,function(n,i){i.saveState(t.storage)})},restoreState:function(){var t=this;n.each(this.stateSources,function(n,i){i.restoreState(t.storage)})},clearState:function(){var t=this;n.each(this.stateSources,function(n,i){i.removeState(t.storage)})}})}(jQuery,DevExpress),function(n,t){var u=t.Class,r="__root__";t.framework.DefaultBrowserAdapter=u.inherit({ctor:function(t){t=t||{},this._window=t.window||window,this.popState=n.Callbacks();n(this._window).on("hashchange",n.proxy(this._onHashChange,this))},replaceState:function(n){n=this._normalizeUri(n),this._window.history.replaceState(null,null,"#"+n)},pushState:function(n){n=this._normalizeUri(n),this._window.history.pushState(null,null,"#"+n)},createRootPage:function(){this._window.history.replaceState(null,null,"#"+r)},_onHashChange:function(){this.popState.fire()},back:function(){this._window.history.back()},getHash:function(){return this._normalizeUri(this._window.location.hash)},isRootPage:function(){return this.getHash()===r},_normalizeUri:function(n){return(n||"").replace(/^#+/,"")},canBack:function(){return this._window.history.length>2}}),t.framework.OldBrowserAdapter=t.framework.DefaultBrowserAdapter.inherit({ctor:function(){this._innerEventCount=0,this.callBase.apply(this,arguments)},replaceState:function(n){n=this._normalizeUri(n),this.getHash()!==n&&(this._skipNextEvent(),this.back(),this._skipNextEvent(),this._window.location.hash=n)},pushState:function(n){n=this._normalizeUri(n),this.getHash()!==n&&(this._skipNextEvent(),this._window.location.hash=n)},createRootPage:function(){this.pushState(r)},_onHashChange:function(){this._innerEventCount?this._innerEventCount--:this.popState.fire()},_skipNextEvent:function(){this._innerEventCount++}}),t.framework.HistorylessBrowserAdapter=t.framework.DefaultBrowserAdapter.inherit({ctor:function(t){t=t||{},this._window=t.window||window,this.popState=n.Callbacks();n(this._window).on("dxback",n.proxy(this._onHashChange,this));this._currentHash=this._window.location.hash},replaceState:function(n){this._currentHash=this._normalizeUri(n)},pushState:function(n){this._currentHash=this._normalizeUri(n)},createRootPage:function(){this.pushState(r)},_onHashChange:function(){this.back(),this.popState.fire()},getHash:function(){return this._normalizeUri(this._currentHash)},back:function(){this.replaceState(r)}})}(jQuery,DevExpress),function(n,t){var u=t.Class,r="dxPhoneJSApplication";t.framework.BrowserNavigationDevice=u.inherit({ctor:function(t){t=t||{},this._browserAdapter=this._createBrowserAdapter(t),this.uriChanged=n.Callbacks(),this.backInitiated=n.Callbacks(),this._deferredNavigate=null,this._browserAdapter.popState.add(n.proxy(this._onPopState,this)),window.sessionStorage&&!sessionStorage.getItem(r)&&(sessionStorage.removeItem(r),this._prepareBrowserHistory()),this._browserAdapter.isRootPage()&&this._browserAdapter.pushState(""),n(window).unload(this._saveBrowserState())},_isBuggyAndroid:function(){var n=t.devices.real.version;return t.devices.real.platform==="android"&&n.length>1&&(n[0]===2&&n[1]<4||n[0]<2)},_createBrowserAdapter:function(n){var i=n.window||window;return i===i.top?i.history.replaceState&&i.history.pushState&&!this._isBuggyAndroid()?new t.framework.DefaultBrowserAdapter(n):new t.framework.OldBrowserAdapter(n):new t.framework.HistorylessBrowserAdapter(n)},_saveBrowserState:function(){window.sessionStorage&&sessionStorage.setItem(r,!0)},_prepareBrowserHistory:function(){var n=this.getUri();this._browserAdapter.createRootPage(),this._browserAdapter.pushState(n)},getUri:function(){return this._browserAdapter.getHash()},setUri:function(n){this._browserAdapter.isRootPage()?this._browserAdapter.pushState(n):this._browserAdapter.replaceState(n)},_onPopState:function(){var i=this,r=this.getUri();this._deferredNavigate&&this._deferredNavigate.state()==="pending"?this._browserAdapter.isRootPage()?this._deferredNavigate.resolve():this._browserAdapter.back():this._browserAdapter.isRootPage()?this.backInitiated.fire():(this._deferredNavigate=n.Deferred().done(function(){i.uriChanged.fire(r)}),this._browserAdapter.back())},back:function(){this._browserAdapter.back()},canBack:function(){return this._browserAdapter.canBack()}})}(jQuery,DevExpress),function(n,t,i){var u=t.Class,r={current:"current",blank:"blank",back:"back"},f="__history";t.framework.NavigationStack=u.inherit({ctor:function(t){t=t||{},this.itemsRemoved=n.Callbacks(),this.clear()},currentItem:function(){return this.items[this.currentIndex]},back:function(n){if(this.currentIndex--,this.currentIndex<0)throw Error("Unable to go back");var t=this.currentItem();t.uri!==n&&this._updateItem(this.currentIndex,n)},forward:function(){if(this.currentIndex++,this.currentIndex>=this.items.length)throw Error("Unable to go forward");},navigate:function(n,t){if(!(this.currentIndex<this.items.length)||!(this.currentIndex>-1)||this.items[this.currentIndex].uri!==n){if(t&&this.currentIndex>-1&&this.currentIndex--,this.currentIndex+1<this.items.length&&this.items[this.currentIndex+1].uri===n)this.currentIndex++;else{var i=this.items.splice(this.currentIndex+1,this.items.length-this.currentIndex-1);this.items.push({}),this.currentIndex++,this._updateItem(this.currentIndex,n),this._deleteItems(i)}return this.currentItem()}},_updateItem:function(n,t){var i=this.items[n];i.uri=t,i.key=this.items[0].uri+"_"+n+"_"+t},_deleteItems:function(n){n&&this.itemsRemoved.fire(n)},getPreviousItem:function(){return this.items.length>1?this.items[this.currentIndex-1]:i},canBack:function(){return this.currentIndex>0},clear:function(){this._deleteItems(this.items),this.items=[],this.currentIndex=-1}}),t.framework.NavigationManager=u.inherit({ctor:function(r){r=r||{};var u=this;u.navigationStacks={},u._keepPositionInStack=r.keepPositionInStack,u.currentStack=new t.framework.NavigationStack,u.currentUri=i,u.navigating=n.Callbacks(),u.navigated=n.Callbacks(),u.navigatingBack=n.Callbacks(),u.navigationCanceled=n.Callbacks(),u.itemRemoved=n.Callbacks(),u._navigationDevice=r.navigationDevice||new t.framework.BrowserNavigationDevice,u._navigationDevice.uriChanged.add(n.proxy(u.navigate,u)),u._navigationDevice.backInitiated.add(n.proxy(u.back,u)),u._stateStorageKey=r.stateStorageKey||f},navigate:function(u,f){var e=this,o;for(f=n.extend({target:r.blank},f||{}),u===i&&(u=e._navigationDevice.getUri());t.backButtonCallback.fire(););if(/^_back$/.test(u)){e.back();return}o={currentUri:e.currentUri,uri:u,options:f,cancel:!1,navigateWhen:[]},e.navigating.fire(o),u=o.uri,o.cancel||e.currentUri===u?(e._navigationDevice.setUri(e.currentUri),e.navigationCanceled.fire(o)):n.when.apply(n,o.navigateWhen).done(function(){t.utils.executeAsync(function(){var n=e.currentUri;e.currentUri=u,e._updateHistory(u,f),e._navigationDevice.setUri(e.currentUri),e.navigated.fire({uri:u,previousUri:n,options:f,item:e.currentItem()})})})},_createNavigationStack:function(){var i=new t.framework.NavigationStack;return i.itemsRemoved.add(n.proxy(this._removeItems,this)),i},_updateHistory:function(n,u){var f=u.root,o=f,s=!1,h,c,e;if((f||!this.currentStack.items.length)&&(this.navigationStacks[n]=this.navigationStacks[n]||this._createNavigationStack(),this.currentStack===this.navigationStacks[n]?s=!0:this.currentStack=this.navigationStacks[n],o=!0),f&&this.currentStack.items.length)this._keepPositionInStack&&u.root&&!s?this.currentUri=this.currentItem().uri:(this.currentStack.currentIndex=0,this.currentItem().uri!==n&&this.currentStack.navigate(n,!0));else{h=this.currentStack.currentIndex,c=this.currentItem()||{};switch(u.target){case r.blank:this.currentStack.navigate(n);break;case r.current:this.currentStack.navigate(n,!0);break;case r.back:this.currentStack.currentIndex>0?this.currentStack.back(n):this.currentStack.navigate(n,!0);break;default:throw Error(t.utils.stringFormat('Unknown navigation target: "{0}". Use the DevExpress.framework.NavigationManager.NAVIGATION_TARGETS enumerable values',u.target));}u.direction===i&&(e=this.currentStack.currentIndex-h,u.direction=e<0?this.currentItem().backDirection||"backward":e>0&&this.currentStack.currentIndex>0?"forward":"none"),c.backDirection=u.direction==="forward"?"backward":"none"}u.root=o},_removeItems:function(t){var i=this;n.each(t,function(n,t){i.itemRemoved.fire(t)})},back:function(n){var u={cancel:t.backButtonCallback.fire()},i;if(u.cancel||this.navigatingBack.fire(u),u.cancel){this._navigationDevice.setUri(this.currentUri);return}i=this.getPreviousItem(),i?this.navigate(i.uri,{target:r.back,item:i}):n?this.navigate(n):this._navigateDeviceBack()},_navigateDeviceBack:function(){this._navigationDevice.back()},getPreviousItem:function(){return this.currentStack.getPreviousItem()},currentItem:function(){return this.currentStack.currentItem()},currentIndex:function(){return this.currentStack.currentIndex},rootUri:function(){return this.currentStack.items.length?this.currentStack.items[0].uri:this.currentUri},canBack:function(){return this.currentStack.canBack()||t.backButtonCallback.hasCallback()},getItemByIndex:function(n){return this.currentStack.items[n]},saveState:function(n){if(this.currentStack.items.length){var t={items:this.currentStack.items,currentIndex:this.currentStack.currentIndex,currentStackKey:this.currentStack.items[0].uri},i=JSON.stringify(t);n.setItem(this._stateStorageKey,i)}else this.removeState(n)},restoreState:function(n){var r,t,i;if(!this.disableRestoreState&&(r=n.getItem(this._stateStorageKey),r))try{if(t=JSON.parse(r),i=this._createNavigationStack(),!t.items[0].uri)throw Error("Error while application state restoring. State has been cleared. Refresh the page");i.items=t.items,i.currentIndex=t.currentIndex,this.navigationStacks[i.items[0].uri]=i,this.currentStack=this.navigationStacks[t.currentStackKey],this._navigationDevice.setUri(this.currentItem().uri)}catch(u){this.removeState(n);throw u;}},removeState:function(n){n.removeItem(this._stateStorageKey)},clearHistory:function(){this.currentStack.clear()}}),t.framework.NavigationManager.NAVIGATION_TARGETS=r}(jQuery,DevExpress),function(n,t,i){t.framework.createActionExecutors=function(r){return{routing:{execute:function(t){var u,f,i;n.isPlainObject(t.action)&&(u=t.action.backBehaviour,t.action.backBehaviour&&delete t.action.backBehaviour,f=t.action,i=r.router.format(f),u?r.back(i):r.navigate(i),t.handled=!0)}},hash:{execute:function(u){var o;if(typeof u.action=="string"&&u.action.charAt(0)==="#"){var f=u.action.substr(1),s=u.args[0],e=f,h=function(n){var i=t.data.utils.compileGetter(n),r=u.args[0].model;return i(r)},c=s.evaluate||h;e=f.replace(/\{([^}]+)\}/g,function(r,u){u=n.trim(u),u.indexOf(",")>-1&&(u=n.map(u.split(","),n.trim));var f=c(u);return f=t.framework.Route.prototype.formatSegment(f),f!==i?f:r}),o=(u.component||{}).NAME==="dxCommand"?u.component.option():{},r.navigate(e,o),u.handled=!0}}}}}}(jQuery,DevExpress),function(n,t){var f=t.Class,i,e="InProgress",r="Inited",u=t.framework;t.framework.Application=f.inherit({ctor:function(r){r=r||{},this._options=r,this.namespace=r.namespace||r.ns||window,this.components=[],i=t.localization.localizeString("@Back"),this.router=r.router||new t.framework.MvcRouter,this.navigationManager=r.navigationManager||new t.framework.NavigationManager({keepPositionInStack:r.navigateToRootViewMode==="keepHistory"}),this.navigationManager.navigating.add(n.proxy(this._onNavigating,this)),this.navigationManager.navigated.add(n.proxy(this._onNavigated,this)),this.navigationManager.navigationCanceled.add(n.proxy(this._onNavigationCanceled,this)),this.navigationManager.itemRemoved.add(n.proxy(this._onNavigationItemRemoved,this)),this.stateManager=r.stateManager||new t.framework.StateManager({storage:r.stateStorage||sessionStorage}),this.stateManager.addStateSource(this.navigationManager),this._viewCache=r.disableViewCache?new t.framework.NullViewCache:r.viewCache||new t.framework.ViewCache,this.navigation=this._createNavigationCommands(r.navigation),this.commandMapping=this._createCommandMapping(r.commandMapping,this.navigation),this.beforeViewSetup=n.Callbacks(),this.afterViewSetup=n.Callbacks(),this.viewShowing=n.Callbacks(),this.viewShown=n.Callbacks(),this.viewHidden=n.Callbacks(),this.viewDisposing=n.Callbacks(),this.viewDisposed=n.Callbacks(),this.navigating=n.Callbacks(),this.initialized=n.Callbacks(),this._isNavigating=!1,this._viewsToDispose=[],t.registerActionExecutor(t.framework.createActionExecutors(this)),t.overlayTargetContainer(".dx-viewport"),this.components.push(this.router),this.components.push(this.navigationManager)},_createCommandMapping:function(i,r){var u=i,f;return i instanceof t.framework.CommandMapping||(u=new t.framework.CommandMapping,u.load(t.framework.CommandMapping.defaultMapping||{}).load(i||{})),f=n.map(r,function(n){return n.option("id")}),u.mapCommands("global-navigation",f),u},_createNavigationCommands:function(t){if(!t)return[];var r=this,i=0;return n.map(t,function(t){var r;return r=t instanceof u.dxCommand?t:new u.dxCommand(n.extend({root:!0},t)),r.option("id")||r.option("id","navigation_"+i++),r})},_callComponentMethod:function(t,i){var r=[];return n.each(this.components,function(u,f){if(f[t]&&n.isFunction(f[t])){var e=f[t](i);e&&e.done&&r.push(e)}}),n.when.apply(n,r)},init:function(){var n=this;return n._initState=e,n._callComponentMethod("init").done(function(){n._initState=r,n._processEvent("initialized")})},_onNavigating:function(n){var i=this,u,r;if(i._isNavigating){i._pendingNavigationArgs=n,n.cancel=!0;return}if(i._isNavigating=!0,delete i._pendingNavigationArgs,u=this.router.parse(n.uri),!u)throw new Error(t.utils.stringFormat('Routing rule is not found for the "{0}" url',n.uri));r=this.router.format(u),n.uri!==r&&r?(n.cancel=!0,t.utils.executeAsync(function(){i.navigate(r,n.options)})):i._processEvent("navigating",n)},_onNavigated:function(i){var r=this,e=i.options.direction,f=n.Deferred(),u=r._acquireViewInfo(i.item);r._isViewReadyToShow(u)?f.resolve():r._setViewLoadingState(u,e).done(function(){t.utils.executeAsync(function(){r._createViewModel(u),r._createViewCommands(u),f.resolve()})}),f.done(function(){r._highlightCurrentNavigationCommand(u),r._showView(u,e).done(function(){r._isNavigating=!1;var n=r._pendingNavigationArgs;n&&t.utils.executeAsync(function(){r.navigate(n.uri,n.options)})})})},_isViewReadyToShow:function(n){return!!n.model},_onNavigationCanceled:function(n){var i=this,r;i._pendingNavigationArgs&&i._pendingNavigationArgs.uri===n.uri||(r=i.navigationManager.currentItem(),r&&t.utils.executeAsync(function(){var n=i._acquireViewInfo(r);i._highlightCurrentNavigationCommand(n)}),i._isNavigating=!1)},_onViewRemoved:function(n){this._viewsToDispose.push(n)},_disposeRemovedViews:function(){for(var t,n;t=this._viewsToDispose.shift();)n={viewInfo:t},this._processEvent("viewDisposing",n,n.viewInfo.model),this._disposeView(t),this._processEvent("viewDisposed",n,n.viewInfo.model)},_onNavigationItemRemoved:function(n){var t=this._viewCache.removeView(n.key);t&&this._onViewRemoved(t)},_onViewHidden:function(n){var t={viewInfo:n};this._processEvent("viewHidden",t,t.viewInfo.model)},_disposeView:function(t){if(t.model){var i=t.model.commands||[];n.each(i,function(n,t){t._dispose()})}},_acquireViewInfo:function(n){var t=this._viewCache.getView(n.key);return t||(t=this._createViewInfo(n),this._viewCache.setView(n.key,t)),t},_processEvent:function(n,t,i){this._callComponentMethod(n,t),this[n]&&this[n].fire&&this[n].fire(t);var r=(i||{})[n];r&&r.call(i,t)},_createViewInfo:function(n){var t=n.uri,i=this.router.parse(t);return{viewName:i.view,routeData:i,uri:t,key:n.key,canBack:this.canBack()}},_createViewModel:function(n){this._processEvent("beforeViewSetup",{viewInfo:n}),n.model=n.model||this._callViewCodeBehind(n.routeData),this._processEvent("afterViewSetup",{viewInfo:n})},_createViewCommands:function(n){n.commands=n.model.commands||[],n.canBack&&this._appendBackCommand(n)},_callViewCodeBehind:function(t){var i=n.noop;return t.view in this.namespace&&(i=this.namespace[t.view]),i.call(this.namespace,t)||{}},_appendBackCommand:function(n){var r=n.commands,u=[new t.framework.dxCommand({id:"back",title:i,behavior:"back",action:"#_back",icon:"arrowleft",type:"back"})],f=t.framework.utils.mergeCommands(u,r);r.length=0,r.push.apply(r,f)},_showView:function(n,t){var i=this,r={viewInfo:n,direction:t};return i._processEvent("viewShowing",r,n.model),i._showViewImpl(r.viewInfo,r.direction).done(function(){i._processEvent("viewShown",r,n.model),i._disposeRemovedViews()})},_highlightCurrentNavigationCommand:function(i){var f=this,r,e=i.uri,u=i.model&&i.model.currentNavigationItemId;u!==undefined&&n.each(this.navigation,function(n,t){if(t.option("id")===u)return r=t,!1}),r||n.each(this.navigation,function(n,i){var u=i.option("action");if(t.utils.isString(u)&&(u=u.replace(/^#+/,""),u===f.navigationManager.rootUri()))return r=i,!1}),n.each(this.navigation,function(n,t){t.option("highlighted",t===r)})},_initViewLoadingState:t.abstract,_setCurrentViewAsyncImpl:t.abstract,navigate:function(t,i){var u=this;if(n.isPlainObject(t)&&(t=u.router.format(t),t===!1))throw new Error("The passed object cannot be formatted into a uri string by router. An appropriate route should be registered.");if(u._initState)if(u._initState===r)u.navigationManager.navigate(t,i);else throw new Error("Unable to navigate. Application is being initialized. Consider using the 'HtmlApplication.navigating' event to alter the navigation logic.");else u.init().done(function(){u.restoreState(),u.navigate(t,i)})},canBack:function(){return this.navigationManager.canBack()},back:function(){this.navigationManager.back()},saveState:function(){this.stateManager.saveState()},restoreState:function(){this.stateManager.restoreState()},clearState:function(){this.stateManager.clearState()}})}(jQuery,DevExpress),function(n,t){t.framework.html={layoutControllers:[]}}(jQuery,DevExpress),function(n,t){var i=t.framework.html.commandToDXWidgetAdapters={addCommandBase:function(t,i,r,u,f){var o=n.extend(u,r,i.option()),s=t.option("items"),e;s.push(o),e=function(r,u,e){n.extend(o,i.option()),f(o,r,u,e),r!=="highlighted"&&t.option("items",s)},e(),i.optionChanged.add(e),t.disposing.add(function(){i.optionChanged.remove(e)})}};i.dxToolbar={addCommand:function(n,t,o){function c(n){var i=f(t,o,"location"),s;n.location=i,i==="menu"?n.text=u(t,o):(s={text:u(t,o),disabled:t.option("disabled"),icon:r(t,o,"icon"),iconSrc:r(t,o,"iconSrc"),type:e(t,o)},n.options=s,h.widget="button")}var s=n.data("dxToolbar"),h={command:t};s.option("itemClickAction",function(n){n.itemData.command&&n.itemData.command.execute()}),i.addCommandBase(s,t,o,h,c),s.option("visible",!0)}},i.dxActionSheet={addCommand:function(n,t,f){var e=n.data("dxActionSheet"),o={command:t};i.addCommandBase(e,t,f,o,function(n){n.text=u(t,f),n.icon=r(t,f,"icon"),n.iconSrc=r(t,f,"iconSrc")})}},i.dxList={addCommand:function(n,t,f){var e=n.data("dxList");i.addCommandBase(e,t,f,{},function(n){n.title=u(t,f),n.clickAction=function(){n.disabled||t.execute()},n.icon=r(t,f,"icon"),n.iconSrc=r(t,f,"iconSrc")})}},i.dxNavBar={addCommand:function(n,t,f){var e=n.data("dxNavBar"),s={command:t},o;e.option("itemClickAction",function(n){for(var i=e.option("items"),t=i.length;--t;)i[t].command.option("highlighted",!1);n.itemData.command.execute()}),o=function(){for(var t=e.option("items"),n=0,i=t.length;n<i;n++)if(t[n].highlighted){e.option("selectedIndex",n);break}},i.addCommandBase(e,t,f,s,function(n,i,e){i==="highlighted"?e&&o():(n.text=u(t,f),n.icon=r(t,f,"icon"),n.iconSrc=r(t,f,"iconSrc"),o())})}},i.dxPivot={addCommand:function(n,t,r){var f=n.data("dxPivot"),o={command:t},e;f.option("itemSelectAction",function(n){n.itemData.command.execute()}),e=function(){for(var t=f.option("items")||[],n=0,i=t.length;n<i;n++)if(t[n].highlighted){f.option("selectedIndex",n);break}},i.addCommandBase(f,t,r,o,function(n,i,f){i==="highlighted"?f&&e():(n.title=u(t,r),e())})}},i.dxSlideOut={addCommand:function(n,t,f){var e=n.data("dxSlideOut"),s={command:t},o;e.option("itemClickAction",function(n){n.itemData.command.execute()}),o=function(){for(var t=e.option("items")||[],n=0,i=t.length;n<i;n++)if(t[n].highlighted){e.option("selectedIndex",n);break}},i.addCommandBase(e,t,f,s,function(n,i,e){i==="highlighted"?e&&o():(n.title=u(t,f),n.icon=r(t,f,"icon"),n.iconSrc=r(t,f,"iconSrc"),o())})}};var f=function(n,t,i){var r=t?t[i]:undefined;return n.option(i)||r},u=function(n,t){var i=!!n.option("icon")||n.option("iconSrc"),r=f(n,t,"title");return t.showText||!i?r:""},r=function(n,t,i){var r=!!n.option("title"),u=f(n,t,i);return t.showIcon||!r?u:undefined},e=function(n,t){return f(n,t,"type")}}(jQuery,DevExpress),function(n,t){var u=t.Class,r=DevExpress.ui;t.framework.dxCommandContainer=r.Component.inherit({ctor:function(t,i){n.isPlainObject(t)&&(i=t,t=n("<div />")),this.callBase(t,i)},_render:function(){this.callBase(),this._element().addClass("dx-command-container")}}),r.registerComponent("dxCommandContainer",t.framework.dxCommandContainer),t.framework.html.CommandManager=u.inherit({ctor:function(n){n=n||{},this.globalCommands=n.globalCommands||[],this.commandsToWidgetRegistry=[this._commandsToDXWidget],this.commandMapping=n.commandMapping||new t.framework.CommandMapping},_commandsToDXWidget:function(i,r){var f=i.data("dxComponents"),o=t.framework.html.commandToDXWidgetAdapters,s,u,e;if(f)for(s in f)if(u=f[s],u in o)return e=i.data(u),e.beginUpdate(),n.each(r,function(n,t){o[u].addCommand(i,t.command,t.options)}),e.endUpdate(),!0;return!1},_findCommands:function(t){return n.map(t.addBack().find(".dx-command"),function(t){return n(t).dxCommand("instance")})},_findCommandContainers:function(t){return n.map(t.find(".dx-command-container"),function(t){return n(t).dxCommandContainer("instance")})},_checkCommandId:function(n,t){if(n===null)throw new Error("The command's 'id' option should be specified.\r\nProcessed markup: "+t._element().get(0).outerHTML);},_arrangeCommandsToContainers:function(t,i){var r=this,u={},f=[];n.each(t,function(n,t){var i=t.option("id");r._checkCommandId(i,t),f.push(i),u[i]=t}),r.commandMapping.checkCommandsExist(f),n.each(i,function(t,i){var f=[];n.each(u,function(n,t){var e=n,u=r.commandMapping.getCommandMappingForContainer(e,i.option("id"));u&&f.push({command:t,options:u})}),r._attachCommandsToContainer(i._element(),f)})},_attachCommandsToContainer:function(t,i){var r=!1;n.each(this.commandsToWidgetRegistry,function(n,u){return r=u(t,i),!r}),r||this._defaultCommandsToContainer(t,i)},_defaultCommandsToContainer:function(t,i){n.each(i,function(n,i){var u=i.command,r=u._element();if(r){t.append(r);r.on("dxclick",function(){u.execute()})}})},_collectCommands:function(n,i){var r=this._findCommands(n),u=t.framework.utils.mergeCommands(i,r);return t.framework.utils.mergeCommands(this.globalCommands,u)},layoutCommands:function(n,t){t=t||[];var i=this._collectCommands(n,t),r=this._findCommandContainers(n);this._arrangeCommandsToContainers(i,r)}})}(jQuery,DevExpress),function(n,t){var f=t.Class,r="__hidden-bag",u=".dx-transition:not(.dx-transition .dx-transition)",e=function(n){return".dx-transition-"+n};t.framework.html.DefaultLayoutController=f.inherit({ctor:function(n){n=n||{},this._layoutTemplateName=n.layoutTemplateName||"",this._disableViewLoadingState=n.disableViewLoadingState,this._layoutModel=n.layoutModel||{}},init:function(i){i=i||{},this._$viewPort=i.$viewPort||n("body"),this._$hiddenBag=i.$hiddenBag||n(document.getElementById(r))||n("<div/>").hide().appendTo("body"),this.viewReleased=n.Callbacks(),this.viewRendered=n.Callbacks(),this._commandManager=i.commandManager||new t.framework.html.CommandManager({commandMapping:i.commandMapping}),this._viewEngine=i.viewEngine,this._prepareTemplates(i.navigation||[])},activate:function(){this._justActivated=!0,this._visibleViews={},this._getRootElement().appendTo(this._$viewPort).show()},deactivate:function(){var t=this;n.each(this._visibleViews,function(n,i){t._hideView(i),t._releaseView(i)}),this._moveToHiddenBag(this._getRootElement())},_getPreviousViewInfo:function(n){return this._visibleViews[this._getTargetFrame(n)]},_prepareTemplates:function(n){var t=this,i=t._viewEngine.findLayoutTemplate(this._getLayoutTemplateName()).removeClass("dx-hidden");t._$layoutTemplate=i,t._$mainLayout=t._createEmptyLayout().show(),t._createNavigation(n),t._blankViewInfo=t._createBlankViewInfo(i)},_createNavigation:function(n){this._viewEngine._applyTemplate(this._$mainLayout,this._layoutModel),this._renderCommands(this._$mainLayout,n)},_getRootElement:function(){return this._$mainLayout},_getViewFrame:function(){return this._$mainLayout},_getLayoutTemplateName:function(){return this._layoutTemplateName},_createBlankViewInfo:function(t){var i=this,r=t.clone().addClass("blank-view").appendTo(i._$hiddenBag),u,f;return i._viewEngine._createComponents(r),u={title:ko.observable()},this._getTransitionElements(r).each(function(t,r){i._viewEngine._applyTemplate(n(r),u)}),f={model:u,renderResult:{$markup:r,$viewItems:n()},isBlankView:!0},i._appendViewToLayout(f),f},_createViewLayoutTemplate:function(){var n=this,t=n._$layoutTemplate.clone().appendTo(n._$hiddenBag);return n._viewEngine._createComponents(t),t},_createEmptyLayout:function(){var n=this,t=n._$layoutTemplate.clone().appendTo(n._$hiddenBag);return n._viewEngine._createComponents(t),n._removeTransitionContent(t),t},_removeTransitionContent:function(n){var t=this._getTransitionElements(n);t.children().remove()},_getTransitionElements:function(n){return n.find(u).addBack(u)},setViewLoadingState:function(t,i){var r=this,u;return r._disableViewLoadingState?n.Deferred().resolve().promise():(u=n.extend({},t,r._blankViewInfo),r._blankViewInfo.model.title((t.viewTemplateInfo||{}).title||"Loading..."),r._showViewImpl(u,i))},showView:function(n,t){var i=this,r=i._getPreviousViewInfo(n);return r&&r.isBlankView&&(t="none"),i._ensureViewRendered(n),this._showViewImpl(n,t).done(function(){i._onViewShown(n)})},disposeView:function(n){n.renderResult&&(n.renderResult.$markup.remove(),n.renderResult.$viewItems.remove(),delete n.renderResult)},_prepareViewTemplate:function(n){this._viewEngine._createComponents(n)},_renderView:function(t,i){var e=this,u=this._createViewLayoutTemplate(),o=t.children(),f,r;if(this._getTransitionElements(u).each(function(t,r){e._viewEngine._applyTemplate(n(r),i.model)}),this._viewEngine._applyLayoutCore(t,u),f=!0,r=n(),o.each(function(t,u){var o=n(u);e._viewEngine._applyTemplate(o,i.model),o.is(".dx-command,.dx-content,script")?f=!1:r=r.add(o)}),r.length&&!f)throw new Error("All the dxView element children should be either of the dxCommand or dxContent type.\r\nProcessed markup: "+r[0].outerHTML);i.renderResult={$markup:u,$viewItems:o}},_renderCommands:function(n,t){var i=this._findCommandContainers(n);this._commandManager._arrangeCommandsToContainers(t,i)},_applyViewCommands:function(n){var i=n.renderResult.$viewItems,r=n.renderResult.$markup,u=this._commandManager._findCommands(i);n.commands=t.framework.utils.mergeCommands(n.commands||[],u),this._renderCommands(r,n.commands)},_findCommandContainers:function(n){return this._viewEngine._createComponents(n,["dxCommandContainer"])},_ensureViewRendered:function(n){var t=this,i;n.renderResult||(i=n.$viewTemplate||this._viewEngine.findViewTemplate(n.viewName),this._prepareViewTemplate(i,n),this._renderView(i,n),this._applyViewCommands(n),t._appendViewToLayout(n),t._onRenderComplete(n),t.viewRendered.fire(n))},_appendViewToLayout:function(t){var i=this,f=i._getViewFrame(t),r=t.renderResult.$markup,u=n();n.each(r.find(".dx-content-placeholder"),function(t,i){var r=n(i).dxContentPlaceholder("instance");r.prepareTransition()}),n.each(i._getTransitionElements(f),function(t,f){var s=n(f),o=r.find(e(s.data("dx-transition-name"))).children();i._hideViewElements(o),s.append(o),u=u.add(o)}),i._$mainLayout.append(t.renderResult.$viewItems.filter(".dx-command")),r.remove(),t.renderResult.$markup=u},_onRenderComplete:function(){},_onViewShown:function(){n(document).trigger("dx.viewchanged")},_doTransition:function(t,i){var r=this,u=n.Deferred(),f=n.map(t.renderResult.$markup,function(t){var u=n(t),f=u.parent(),e=r._disableTransitions?"none":f.data("dx-transition-type");return{destination:f,source:u,type:e||"none",direction:i||"none"}});return r._executeTransitions(f).done(function(){u.resolve()}),u.promise()},_hideView:function(n){n.renderResult&&this._hideViewElements(n.renderResult.$markup)},_showViewImpl:function(t,i){var r=this,u=n.Deferred();return this._justActivated&&(this._justActivated=!1,i="none"),r._doTransition(t,i).done(function(){r._changeView(t)})},_releaseView:function(n){this.viewReleased.fireWith(this,[n])},_getViewPortElement:function(){return this._$viewPort},_getHiddenBagElement:function(){return this._$hiddenBag},_changeView:function(n){var i=this,t=i._getPreviousViewInfo(n);t&&t!==n&&(i._hideView(t),t.isBlankView||this._releaseView(t)),this._visibleViews[this._getTargetFrame(n)]=n},_getTargetFrame:function(){return"content"},_hideViewElements:function(n){this._patchIDs(n),this._disableInputs(n),n.removeClass("dx-active-view").addClass("dx-inactive-view")},_showViewElements:function(n){this._unpatchIDs(n),this._enableInputs(n),n.removeClass("dx-inactive-view").addClass("dx-active-view")},_executeTransitions:function(i){var r=this,u=n.map(i,function(n){return r._showViewElements(n.source),n.source.children().length?t.framework.html.TransitionExecutor.create(n.destination,n):void 0}),f=n.map(u,function(n){return n.options.source.addClass("dx-transition-source"),n.exec()});return n.when.apply(n,f).done(function(){n.each(u,function(n,t){t.finalize(),r._hideViewElements(t.options.source.parent().find(".dx-active-view:not(.dx-transition-source)")),t.options.source.removeClass("dx-transition-source")})})},_patchIDs:function(n){this._processIDs(n,function(n){var t=n;return n.indexOf(r)===-1&&(t=r+"-"+n),t})},_unpatchIDs:function(n){this._processIDs(n,function(n){var t=n;return n.indexOf(r)===0&&(t=n.substr(r.length+1)),t})},_processIDs:function(t,i){var r=t.find("[id]");n.each(r,function(t,r){var u=n(r),f=u.attr("id");u.attr("id",i(f))})},_enableInputs:function(t){var i=t.find(":input[data-dx-disabled=true]");n.each(i,function(t,i){n(i).removeAttr("disabled").removeAttr("data-dx-disabled")})},_disableInputs:function(t){var i=t.find(":input:not([disabled], [disabled=true])");n.each(i,function(t,i){n(i).attr({disabled:!0,"data-dx-disabled":!0})})},_moveToViewPort:function(n){this._unpatchIDs(n),n.appendTo(this._getViewPortElement())},_moveToHiddenBag:function(n){this._patchIDs(n),n.appendTo(this._getHiddenBagElement())}}),t.framework.html.layoutControllers.push({controller:new t.framework.html.DefaultLayoutController})}(jQuery,DevExpress),function(n,t){var r=t.Class;t.framework.html.KnockoutJSTemplateEngine=r.inherit({applyTemplate:function(t,i){ko.applyBindings(i,n(t).get(0))}})}(jQuery,DevExpress),function(n,t,i){var s=t.Class,r=t.ui,u="dxView",f="dxLayout",e,o;t.framework[u]=r.Component.inherit({_defaultOptions:function(){return n.extend(this.callBase(),{name:null,title:null,layout:null})},_render:function(){this.callBase(),this._element().addClass("dx-view")}}),r.registerComponent(u,t.framework.dxView),t.framework[f]=r.Component.inherit({_defaultOptions:function(){return n.extend(this.callBase(),{name:null})},_render:function(){this.callBase(),this._element().addClass("dx-layout")}}),r.registerComponent(f,t.framework.dxLayout),t.framework.dxViewPlaceholder=r.Component.inherit({_defaultOptions:function(){return n.extend(this.callBase(),{viewName:null})},_render:function(){this.callBase(),this._element().addClass("dx-view-placeholder")}}),r.registerComponent("dxViewPlaceholder",t.framework.dxViewPlaceholder),e=function(n,t,i,r){r==="absolute"?n.addClass("dx-transition-absolute"):n.addClass("dx-transition-static"),n.addClass("dx-transition").addClass("dx-transition-"+i),n.data("dx-transition-type",t),n.data("dx-transition-name",i)},o=function(n){n.addClass("dx-transition-inner-wrapper")},t.framework.dxTransition=r.Component.inherit({_defaultOptions:function(){return n.extend(this.callBase(),{name:null,type:"slide"})},_render:function(){this.callBase();var n=this._element();e(n,this.option("type"),this.option("name"),"absolute"),n.wrapInner("<div/>"),o(n.children())},_clean:function(){this.callBase(),this._element().empty()}}),r.registerComponent("dxTransition",t.framework.dxTransition),t.framework.dxContentPlaceholder=r.Component.inherit({_defaultOptions:function(){return n.extend(this.callBase(),{name:null,transition:"none",contentCssPosition:"absolute"})},_render:function(){this.callBase();var n=this._element();n.addClass("dx-content-placeholder").addClass("dx-content-placeholder-"+this.option("name")),e(n,this.option("transition"),this.option("name"),this.option("contentCssPosition"))},prepareTransition:function(){var n=this._element();n.children(".dx-content").length===0&&(n.wrapInner("<div>"),n.children().dxContent({targetPlaceholder:this.option("name")}))}}),r.registerComponent("dxContentPlaceholder",t.framework.dxContentPlaceholder),t.framework.dxContent=r.Component.inherit({_defaultOptions:function(){return n.extend(this.callBase(),{targetPlaceholder:null})},_optionChanged:function(){this._refresh()},_clean:function(){this.callBase(),this._element().removeClass(this._currentClass)},_render:function(){this.callBase();var n=this._element();n.addClass("dx-content"),this._currentClass="dx-content-"+this.option("targetPlaceholder"),n.addClass(this._currentClass),o(n)}}),r.registerComponent("dxContent",t.framework.dxContent),t.framework.html.ViewEngine=s.inherit({ctor:function(t){t=t||{},this.$root=t.$root,this.device=t.device||{},this.templateEngine=t.templateEngine,this.dataOptionsAttributeName=t.dataOptionsAttributeName||"data-options",this._templateMap={},this._pendingViewContainer=null,this.viewSelecting=n.Callbacks(),this.modelFromViewDataExtended=n.Callbacks(),this.layoutSelecting=n.Callbacks(),this.layoutApplying=n.Callbacks(),this.layoutApplied=n.Callbacks()},init:function(){var n=this;return this._initDefaultLayout(),this._loadTemplates().done(function(){n._enumerateTemplates(function(t){n._applyPartialViews(t._element())})})},_enumerateTemplates:function(t){var i=this;n.each(i._templateMap,function(i,r){n.each(r,function(i,r){n.each(r,function(n,i){t(i)})})})},_findComponent:function(n,t){return((this._templateMap[n]||{})[t]||[])[0]},_findTemplate:function(n,t){var f=this,r=f._findComponent(n,t),u,i;if(!r)throw new Error("Error 404: Template not found. role:  "+t+", name: "+n);return u=r._element(),i=u.clone(),this._createComponents(i,[t]),i},findViewTemplate:function(t){var i={viewName:t};return this.viewSelecting.fire(i),i.view?n(i.view):this._findTemplate(t,u,!0)},_extendModelFromViewData:function(n,i){t.utils.extendFromObject(i,n.data(u).option()),this.modelFromViewDataExtended.fire({view:n,model:i})},_createComponents:function(i,r){var u=this,f=[];return i.find("*").addBack().filter("["+u.dataOptionsAttributeName+"]").each(function(i,e){var s=n(e),c=s.attr(u.dataOptionsAttributeName),h,o;try{h=new Function("return {"+c+"}")()}catch(l){throw new Error(t.utils.stringFormat("Unable to parse options.\nMessage: {0};\nOptions value: {1}",l,c));}for(o in h)(!r||n.inArray(o,r)>-1)&&s[o]&&(s[o](h[o]),f.push(s[o]("instance")))}),f},_loadTemplatesFromMarkup:function(i){var r,e;if(i.find("[data-dx-role]").length)throw Error("View templates should be updated according to the 13.1 changes. Go to http://dxpr.es/15ikrJA for more details");r=this,i.appendTo(this.$root),t.localization.localizeNode(i),e=r._createComponents(i,[u,f]),n.each(e,function(n,t){var i=t._element();i.addClass("dx-hidden"),r._registerTemplateComponent(t),t._element().detach()})},_registerTemplateComponent:function(n){var r=this,e=n._element(),i=n.NAME,f=n.option(),u=f.name,t=r._templateMap[u]||{};t[i]=t[i]||[],t[i].push(n),r._templateMap[u]=t},getViewTemplateInfo:function(n){return this._templateMap[n][u][0].option()},_applyPartialViews:function(t){var i=this;this._createComponents(t,["dxViewPlaceholder"]),n.each(t.find(".dx-view-placeholder"),function(){var r=n(this),f=r.data("dxViewPlaceholder").option("viewName"),t=i._findTemplate(f,u);i._applyPartialViews(t),r.append(t),t.removeClass("dx-hidden")})},_ajaxImpl:function(){return n.ajax.apply(n,arguments)},_loadTemplates:function(){var r=this,u,f;return this._templateMap={},this._loadTemplatesFromMarkup(this.$root.children()),u=[],location.protocol.indexOf("wmapp")>=0&&(f=location.protocol+"www/"),n("head").find("link[rel='dx-template']").each(function(e,o){var s=n(o).attr("href"),h=r._ajaxImpl({url:(f||"")+s,isLocal:f?!0:i,success:function(n){r._loadTemplatesFromMarkup(t.utils.createMarkupFromString(n))},dataType:"html"});u.push(h)}),n.when.apply(n,u).done(function(){n.each(r._templateMap,function(t,i){n.each(i,function(n,t){r._filterTemplatesByDevice(t)})})})},_filterTemplatesByDevice:function(i){var u=t.utils.findBestMatches(this.device,i,function(n){return n.option()}),r;this._checkMatchedTemplates(u),r=u[0],n.each(i,function(n,t){t!=r&&(t._dispose(),t._element().remove())}),i.length=0,r&&i.push(r)},_checkMatchedTemplates:function(t){if(t.length>1){var i="Concurrent templates are found:\r\n";n.each(t,function(n,t){i+=t._element().attr("data-options")+"\r\n"}),i+="Target device:\r\n",i+=JSON.stringify(this.device);throw Error(i);}},_extendModelFormViewTemplate:function(n,t){this._extendModelFromViewData(n,t)},_ensureTemplates:function(n){this._ensureViewTemplate(n)},_ensureViewTemplate:function(n){return n.$viewTemplate=n.$viewTemplate||this.findViewTemplate(n.viewName)},_wrapViewDefaultContent:function(n){n.wrapInner('<div class="dx-full-height"><\/div>'),n.children().eq(0).dxContent({targetPlaceholder:"content"})},_initDefaultLayout:function(){this._$defaultLayoutTemplate=n('<div class="dx-full-height" data-options="dxLayout : { name: \'default\' } ">                 <div class="dx-full-height" data-options="dxContentPlaceholder : { name: \'content\' } " ><\/div>             <\/div>')},_getDefaultLayoutTemplate:function(){var n=this._$defaultLayoutTemplate.clone();return this._createComponents(n),n},findLayoutTemplate:function(t){if(!t)return this._getDefaultLayoutTemplate();var i={layoutName:t};return this.layoutSelecting.fire(i),i.layout?n(i.layout):this._findTemplate(t,f)},_applyTemplate:function(n,t){var i=this;n.each(function(n,r){i.templateEngine.applyTemplate(r,t)})},_applyLayoutCore:function(t,r){(r===i||r.length===0)&&(r=this._getDefaultLayoutTemplate()),t.children(".dx-content").length===0&&this._wrapViewDefaultContent(t);var u=n().add(r).add(t),f=u.find(".dx-content");return n.each(f,function(){var t=n(this),r=t.data("dxContent").option("targetPlaceholder"),i=u.find(".dx-content-placeholder-"+r);i.empty(),i.append(t)}),f.filter(":not(.dx-content-placeholder .dx-content)").remove(),r}})}(jQuery,DevExpress),function(n,t){var f=t.framework,r=f.html,u="dx-viewport",e="__hidden-bag",o="dx-hidden-bag";r.HtmlApplication=f.Application.inherit({ctor:function(i){i=i||{},this.callBase(i),this._$root=n(i.rootNode||document.body),this._initViewPort(i.viewPort),this.device=i.device||t.devices.current(),this._navigationType=i.navigationType||i.defaultLayout,this._initHiddenBag(),this.viewEngine=i.viewEngine||new r.ViewEngine({$root:this._$root,device:this.device,templateEngine:i.templateEngine||new r.KnockoutJSTemplateEngine({navigationManager:this.navigationManager})}),this.components.push(this.viewEngine),this.viewRendered=n.Callbacks(),this._layoutControllers=i.layoutControllers||r.layoutControllers,this._availableLayoutControllers=[],this.resolveLayoutController=n.Callbacks()},_initViewPort:function(i){this._$viewPort=this._getViewPort(),i=i||{},t.devices.current().platform==="desktop"&&(i=n.extend({disabled:!0},i)),i.disabled||t.ui.initViewport(i),t.devices.attachCss(this._$viewPort),this._$viewPort.addClass(this._getColorSchemeClass())},_getViewPort:function(){var t=n("."+u);return t.length||(t=n("<div>").addClass(u).appendTo(this._$root)),t},_initHiddenBag:function(){this._$hiddenBag=this._getHiddenBag(this._$root,this._$viewPort)},_getHiddenBag:function(t,i){var r=n("#"+e);return r.length||(r=n("<div/>").addClass(o).attr("id",e).appendTo(t)),r.addClass((i.attr("class")||"").replace(u,"")),r},_showViewImpl:function(n,t){return this._activateLayoutController(n.layoutController),this._activeLayoutController.showView(n,t)},_setViewLoadingState:function(n,t){return this._activateLayoutController(n.layoutController),this._activeLayoutController.setViewLoadingState(n,t)},_resolveLayoutController:function(n){var t={viewInfo:n,layoutController:null,availableLayoutControllers:this._availableLayoutControllers};return this._processEvent("resolveLayoutController",t,n.model),t.layoutController||this._resolveLayoutControllerImpl(n)},_resolveLayoutControllerImpl:function(i){var f=i.viewTemplateInfo||{},u=n.extend({root:!i.canBack,navigationType:f.navigationType||f.layout||this._navigationType},t.devices.current()),r=t.utils.findBestMatches(u,this._availableLayoutControllers);if(!r.length)throw Error("The layout controller cannot be resolved. There are no appropriate layout controllers for the current context. Make sure you have the corresponding *.js references in your main *.html file.");if(r.length>1)throw Error("The layout controller cannot be resolved. Two or more layout controllers suit the current context. Make the layout controllers registration more specific.");if(r[0].navigationType!==u.navigationType)throw Error("The layout controller cannot be resolved. There are no appropriate layout controllers for the specified navigation type: '"+u.navigationType+"'. Make sure you have the corresponding *.js references in your main *.html file.");return r[0].controller},_activateLayoutController:function(n){var t=this;t._activeLayoutController!==n&&(t._activeLayoutController&&t._activeLayoutController.deactivate(),n.activate(),t._activeLayoutController=n)},init:function(){var t=this,n=this.callBase();return n.done(function(){t._initLayoutControllers()}),n},_disposeView:function(n){n.layoutController.disposeView&&n.layoutController.disposeView(n),this.callBase(n)},viewPort:function(){return this._$viewPort},_getThemeClasses:function(n){var t={ios:"dx-theme-ios dx-theme-ios-typography",android:"dx-theme-android dx-theme-android-typography",desktop:"dx-theme-desktop dx-theme-desktop-typography",win8:"dx-theme-win8 dx-theme-win8-typography",win8phone:"dx-theme-win8 dx-theme-win8-typography",tizen:"dx-theme-tizen dx-theme-tizen-typography",generic:"dx-theme-generic dx-theme-generic-typography"};return t[n.platform]},_createViewInfo:function(n){var t=this.callBase(n);return t.viewTemplateInfo=this.viewEngine.getViewTemplateInfo(t.viewName)||{},t.layoutController=this._resolveLayoutController(t),t},_createViewModel:function(n){var i,r,t;this.callBase(n),i=n.viewTemplateInfo,r=n.model;for(t in i)t in r||(r[t]=i[t])},_checklayoutControllersRegistration:function(t){var i=[];if(n.each(t,function(n,t){t.controller||i.push(n)}),i.length!==0)throw new Error("A deprecated way is used for the registration of the following layout controllers: '"+i.join("' ,'")+"'.\r\nFor details, read the http://dxpr.es/1bTjfj1");},_initLayoutControllers:function(){var i=this;i._checklayoutControllersRegistration(i._layoutControllers),n.each(i._layoutControllers,function(n,r){var u=r.controller;t.utils.findBestMatches(t.devices.current(),[r]).length&&(i._availableLayoutControllers.push(r),u.init&&u.init({app:i,$viewPort:i._$viewPort,$hiddenBag:i._$hiddenBag,navigationManager:i.navigationManager,commandMapping:i.commandMapping,viewEngine:i.viewEngine,navigation:i.navigation}),u.viewReleased&&u.viewReleased.add(function(n){i._onViewReleased(n)}),u.viewRendered&&u.viewRendered.add(function(n){i._processEvent("viewRendered",n,n.model)}))})},_onViewReleased:function(n){this._onViewHidden(n),this._viewCache.hasView(n.key)||this._onViewRemoved(n)},_getColorSchemeClass:function(){var i=n("<div>").addClass("dx-color-scheme").appendTo(this._$viewPort),r="font-family",t=i.css(r).replace(/^['"]|['"]$/g,"");if(i.remove(),t&&t!=="#")return"dx-color-scheme-"+t}})}(jQuery,DevExpress),function(n,t){n.fn.extend({unwrapInner:function(t){return this.each(function(){var i=this,r=n(i).children(t);r.each(function(){var t=n(this);t.contents().appendTo(i),t.remove()})})}});var i=400,r=t.Class.inherit({ctor:function(n,t){this.container=n,this.options=t},exec:function(){var t=this,i=t.options,u=i.source,r=i.destination,f=u,o=r,e=t._getTransitionInnerElement(r);return this._finalize=function(){},t._animate(n.extend({},i,{source:f,destination:e}))},finalize:function(){if(!this._finalize)throw Error('The "exec" method should be called before the "finalize" one');this._finalize()},_getTransitionInnerElement:function(n){return n.children(".dx-active-view:not(.dx-transition-source)")},_animate:function(){return(new n.Deferred).resolve().promise()}}),u=r.inherit({_animate:function(i){var u=i.source,f=i.destination,r=this.container.width();return t.fx.animate(u,{type:"slide",from:{left:0},to:{left:0},duration:0}),t.fx.animate(f,{type:"slide",from:{left:-r},to:{left:-r},duration:0}),n.Deferred().resolve().promise()}}),f=r.inherit({_animate:function(r){var e,o;if(r.direction==="none")return alert("none"),n.Deferred().resolve().promise();var s=r.source,f=r.destination,u=this.container.width(),h=f.position().left;return r.direction==="backward"&&(u=-u),e=t.fx.animate(s,{type:"slide",from:{left:u},to:{left:0},duration:i}),o=t.fx.animate(f,{type:"slide",from:{left:0},to:{left:-u},duration:i}),n.when(o,e)}}),e=r.inherit({_animate:function(r){var a,v;if(r.direction==="none")return alert("none"),n.Deferred().resolve().promise();var f=r.source,u=r.destination,e=this.container.width(),l=e/5,o,s,h,c,w=u.position().left,y=f.css("z-index"),p=u.css("z-index");return r.direction==="backward"?(o=-l,s=0,h=0,c=e,f.css("z-index",1),u.css("z-index",2)):(o=e,s=0,h=0,c=-l,f.css("z-index",2),u.css("z-index",1)),a=t.fx.animate(f,{type:"slide",from:{left:o},to:{left:s},duration:i}),v=t.fx.animate(u,{type:"slide",from:{left:h},to:{left:c},duration:i}),n.when(v,a).done(function(){f.css("z-index",y),u.css("z-index",p)})}}),o=r.inherit({_animate:function(r){var s=r.source,o=r.destination,h=o.position().top,u=o.position().left,e=this.container.width(),f;return r.direction==="backward"&&(e=-e),f=[],r.direction==="forward"?f.push(t.fx.animate(s,{type:"slide",from:{top:h,left:e+u,"z-index":1},to:{left:u},duration:i})):(f.push(t.fx.animate(s,{type:"slide",from:{left:u,"z-index":1},to:{left:u},duration:i})),f.push(t.fx.animate(o,{type:"slide",from:{"z-index":2},to:{left:u-e},duration:i}))),n.when.apply(n,f)}}),s=r.inherit({_animate:function(t){var r=t.source,f=t.destination,u=new n.Deferred;return r.css({opacity:0}),f.animate({opacity:0},i),r.animate({opacity:1},i,function(){u.resolve()}),u.promise()}});r.create=function(n,i){var h=i.direction==="none"?"none":i.type,r=t.devices.current();switch(h){case"none":return new u(n,i);case"slide":return r.platform==="ios"&&r.version[0]===7?new e(n,i):new f(n,i);case"fade":return new s(n,i);case"overflow":return new o(n,i);default:throw Error(t.utils.formatString('Unknown transition type "{0}"',i.type));}},t.framework.html.TransitionExecutor=r}(jQuery,DevExpress),DevExpress.MOD_FRAMEWORK=!0}